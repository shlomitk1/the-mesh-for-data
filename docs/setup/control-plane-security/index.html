<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Control Plane Security - Mesh for Data</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://ibm.github.io/the-mesh-for-data/favicon.png><link rel=stylesheet href=/the-mesh-for-data/css/style.min.3dea6367d70c56e79acec88bd5217c58299cb81f7dd3f7a663517f3f971ab627.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/the-mesh-for-data/><span>Home</span></a></li><li class=menu-item-docs><a href=/the-mesh-for-data/docs/><span>Docs</span></a></li><li class=menu-item-contribute><a href=/the-mesh-for-data/contribute/><span>Contribute</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://ibm.github.io/the-mesh-for-data/><img alt=Logo src=/the-mesh-for-data/images/logo.svg></a></div><div class=logo-mobile><a href=https://ibm.github.io/the-mesh-for-data/><img alt=Logo src=/the-mesh-for-data/images/logo.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/the-mesh-for-data/><span>Home</span></a></li><li class=menu-item-docs><a href=/the-mesh-for-data/docs/><span>Docs</span></a></li><li class=menu-item-contribute><a href=/the-mesh-for-data/contribute/><span>Contribute</span></a></li><li><a href=https://github.com/IBM/the-mesh-for-data style=color:#000 class=border-left><i class="fab fa-github fa-2x"></i></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class="d-none d-lg-block"><nav id=sidebar aria-label="Section Navigation"><div class=directory><div class=card><button class="header dynamic" id=card4 aria-controls=card4-body>Overview</button><div class=body aria-labelledby=card4 role=region id=card4-body><ul role=tree aria-expanded=true class=leaf-section aria-labelledby=card4><li role=none><a role=treeitem title=() href=https://ibm.github.io/the-mesh-for-data/docs/overview/what-is/>Introduction</a></li><li role=none><a role=treeitem title=() href=https://ibm.github.io/the-mesh-for-data/docs/overview/architecture/>Architecture</a></li><li role=none><a role=treeitem title=() href=https://ibm.github.io/the-mesh-for-data/docs/overview/connectors/>Connectors</a></li><li role=none><a role=treeitem title=() href=https://ibm.github.io/the-mesh-for-data/docs/overview/modules/>Modules</a></li></ul></div></div><div class=card><button class="header dynamic" id=card8 aria-controls=card8-body>Setup</button><div class="body default" aria-labelledby=card8 role=region id=card8-body><ul role=tree aria-expanded=true class=leaf-section aria-labelledby=card8><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/setup/quickstart/>Quick Start</a></li><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/setup/install/>Install</a></li><li role=none><span role=treeitem class=current>Control Plane Security</span></li><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/setup/egeria/install/>ODPi Egeria Install</a></li></ul></div></div><div class=card><button class="header dynamic" id=card14 aria-controls=card14-body>Usage</button><div class=body aria-labelledby=card14 role=region id=card14-body><ul role=tree aria-expanded=true class=leaf-section aria-labelledby=card14><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/usage/notebook-sample/>Kubeflow notebook sample</a></li><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/usage/opa/update_policies/>Using OPA</a></li></ul></div></div><div class=card><button class="header dynamic" id=card17 title="Detailed authoritative reference material such as command-line options, configuration options, and API calling parameters." aria-controls=card17-body>Reference</button><div class=body aria-labelledby=card17 role=region id=card17-body><ul role=tree aria-expanded=true aria-labelledby=card17><li role=none><a role=treeitem title=() href=https://ibm.github.io/the-mesh-for-data/docs/reference/roadmap/>Roadmap</a></li><li role=treeitem aria-label="API Reference"><button aria-hidden=true></button><a title=() href=https://ibm.github.io/the-mesh-for-data/docs/reference/api/>API Reference</a><ul role=group aria-expanded=false class=leaf-section><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/reference/api/generated/connectors.pb/>connectors</a></li><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/reference/api/generated/app/>app.m4d.ibm.com</a></li><li role=none><a role=treeitem href=https://ibm.github.io/the-mesh-for-data/docs/reference/api/generated/motion/>motion.m4d.ibm.com</a></li></ul></li><li role=treeitem aria-label=Components><button aria-hidden=true></button><a title=() href=https://ibm.github.io/the-mesh-for-data/docs/reference/components/>Components</a><ul role=group aria-expanded=false class=leaf-section><li role=none><a role=treeitem title=() href=https://ibm.github.io/the-mesh-for-data/docs/reference/components/ddc/>Data Distribution Controller v1.0</a></li></ul></li></ul></div></div></div></nav></div></div><div class="col-12 col-md-9"><nav aria-label=Breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=https://ibm.github.io/the-mesh-for-data/>Mesh for Data</a></li><li class=breadcrumb-item><a href=https://ibm.github.io/the-mesh-for-data/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://ibm.github.io/the-mesh-for-data/docs/setup/>Setup</a></li><li class=breadcrumb-item>Control Plane Security</li></ol></nav><h1 class=title>Control Plane Security</h1><div class="content anchor-link-enabled"><p>Kubernetes <a href=https://kubernetes.io/docs/concepts/services-networking/network-policies/><code>NetworkPolicies</code></a> and optionally <a href=https://istio.io/>Istio</a> are used to protect components of the control plane. Specifically, traffic to connectors that run as part of the control plane must be secured. Follow this page to enable control plane security.</p><h1 id=ingress-traffic-policy>Ingress traffic policy</h1><p>The installation of Mesh for Data applies a Kubernetes <a href=https://kubernetes.io/docs/concepts/services-networking/network-policies/><code>NetworkPolicy</code></a> resource to the <code>m4d-system</code> namespace. This resource ensures that ingress traffic to connectors is only allowed from workloads that run in the <code>m4d-system</code> namespace and thus disallow access to connectors from other namespaces or external parties.</p><p>The <code>NetworkPolicy</code> is always created. However, your Kubernetes cluster must have a <a href=https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/>Network Plugin</a> with <code>NetworkPolicy</code> support. Otherwise, <code>NetworkPolicy</code> resources will have no affect. While most Kubernetes distributions include a network plugin that enfoces network policies, some like <a href=https://kind.sigs.k8s.io/>Kind</a> do not and require you to install a separate network plugin instead.</p><h1 id=mutual-tls>Mutual TLS</h1><p>If Istio is installed in the cluster then you can use <a href=https://istio.io/latest/docs/tasks/security/authentication/authn-policy/#auto-mutual-tls>automatic mutual TLS</a> to encrypt the traffic to the connectors.
Before you begin ensure that Istio 1.6 or above is installed.</p><p>Before installing Mesh for Data run the following:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>make -C manager deploy_control_plane_security
</code></pre></div><p>If you already installed Mesh for Data before running the above command then you must restart existing pods:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>kubectl delete pod --all -n m4d-system
</code></pre></div></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul><li class=fineprint><a href=https://ibm.github.io/the-mesh-for-data/legal>fine print</a></li></ul></div></div></div></div></div><script type=text/javascript src=/the-mesh-for-data/js/scripts.min.743d9793278e564da4ce594a32a52b65cbd1df69adbfc11858d0093e9a230182.js></script></body></html>